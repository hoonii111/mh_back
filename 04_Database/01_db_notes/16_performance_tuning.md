# Performance Tuning in SQL

## 1. 쿼리 최적화란?

- 데이터베이스 쿼리를 효율적으로 작성해 실행 속도를 높이고 자원 사용을 줄이는 과정.
- 대용량 데이터 처리 및 시스템 부하를 줄이는 데 중요.

## 2. 쿼리 최적화 방법

### 2.1. 적절한 인덱스 사용

- 검색 조건에 자주 쓰이는 컬럼에 인덱스 생성.
- 인덱스가 없으면 전체 테이블 스캔이 발생해 속도 저하.
- 너무 많은 인덱스는 오히려 쓰기 성능 저하 유발.

### 2.2. 불필요한 컬럼 조회 자제

- SELECT * 대신 필요한 컬럼만 명시적으로 조회.
- 데이터 전송량 감소 및 처리 속도 향상.

### 2.3. JOIN 최적화

- 조인할 테이블의 크기와 인덱스 상태를 고려해 작성.
- 불필요한 조인은 피하고, 조인 순서도 중요.

### 2.4. 서브쿼리 대신 JOIN 활용

- 서브쿼리가 느릴 때 JOIN으로 대체 가능.

### 2.5. WHERE절 조건 최적화

- 함수 사용이나 계산식을 조건에 쓰면 인덱스 사용 불가.
- 컬럼 자체를 조건으로 사용하는 것이 좋음.

### 2.6. LIMIT 절 활용

- 필요한 데이터만 일부 조회해 불필요한 처리 방지.

## 3. 실행 계획(Execution Plan) 분석

- 쿼리 최적화에 반드시 필요.
- 데이터베이스가 쿼리를 어떻게 실행하는지 보여줌.
- 인덱스 사용 여부, 조인 방식, 테이블 스캔 등을 확인.

### 3.1. 실행 계획 확인 방법 (MySQL 예시)

```sql
EXPLAIN SELECT * FROM orders WHERE customer_id = 123;